<html>
<head>
<script language="javascript" src="../processing-1.3.6.js"></script>
</head>
<body>

<script type="application/processing">

void setup() {{
    size( 400, 30 );
    initial_status = '{0}'
    slices = {1};
    //slices = [[0, .5], [.5, 1]];
}}

void draw() {{
    var startx = width * .1, starty = 10;
    var rect_width = width * .8;
    var status = initial_status;
    for(var i = 0; i < slices.length; i++) {{
        if(status == 'ok') {{
            fill(0,255,0)
            status = 'down'
        }}
        else {{
            fill(255,0,0)
            status = 'ok'
        }}
        var slice_start = slices[i][0], slice_width = slices[i][1]
        rect(slice_start * rect_width + startx, starty,
             slice_width * rect_width, 10);
    }}
}}
</script>
<canvas></canvas>
</body>
</html>